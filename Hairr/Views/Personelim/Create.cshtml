@model Hairr.Models.Personel

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/Admin.cshtml";
}

<h2>Yeni Personel Ekle</h2>

<form asp-action="Create" method="post">
    <div class="form-group">
        <label for="Ad">Ad</label>
        <input type="text" class="form-control" id="Ad" name="Ad" required />
    </div>
    <div class="form-group">
        <label for="Soyad">Soyad</label>
        <input type="text" class="form-control" id="Soyad" name="Soyad" required />
    </div>
    <div class="form-group">
        <label for="Sehir">Şehir</label>
        <input type="text" class="form-control" id="Sehir" name="Sehir" required />
    </div>
    <div class="form-group">
        <label for="IslemId">İşlem</label>
        <select class="form-control" id="IslemId" name="IslemId" required>
            @foreach (var islem in ViewBag.Islemler)
            {
                <option value="@islem.ID">@islem.IslemAdi</option>
            }
        </select>
    </div>
    <h4>Çalışma Günleri ve Saatleri</h4>
    <div id="calismaSaatleri">
        <div class="form-row">
            <div class="col">
                <input type="text" class="form-control" name="calismaSaatleri[0].Gun" placeholder="Gün (Örn: Pazartesi)" required />
            </div>
            <div class="col">
                <input type="time" class="form-control" name="calismaSaatleri[0].BaslangicSaati" required />
            </div>
            <div class="col">
                <input type="time" class="form-control" name="calismaSaatleri[0].BitisSaati" required />
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-secondary mt-2" onclick="addCalismaSaati()">Yeni Gün Ekle</button>
    <button type="submit" class="btn btn-primary mt-3">Kaydet</button>
</form>

<script>
    let calismaIndex = 1;

    function addCalismaSaati() {
        const container = document.getElementById('calismaSaatleri');
        const row = document.createElement('div');
        row.className = 'form-row mt-2';

        row.innerHTML = `
            <div class="col">
                <input type="text" class="form-control" name="calismaSaatleri[${calismaIndex}].Gun" placeholder="Gün (Örn: Pazartesi)" required />
            </div>
            <div class="col">
                <input type="time" class="form-control" name="calismaSaatleri[${calismaIndex}].BaslangicSaati" required />
            </div>
            <div class="col">
                <input type="time" class="form-control" name="calismaSaatleri[${calismaIndex}].BitisSaati" required />
            </div>
        `;
        container.appendChild(row);
        calismaIndex++;
    }
</script>
